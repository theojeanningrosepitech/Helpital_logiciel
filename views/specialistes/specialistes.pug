extends ../header
include ../popUp

block content
    link(rel='stylesheet', href='/stylesheets/planning.css')
    link(rel='stylesheet', href='/stylesheets/specialistes.css')
    script(type='text/javascript' src='/javascripts/specialistes.js')
    script(type='text/javascript' src='/javascripts/mailPage.js')

    +popUp({
        popUpName: "SendMailForm",
        id: "pop-up-container", 
        className: "send-mail-form",
        title: "Envoyer un mail", 
        description: "Description",
        type: "mail", 
        name: "send-mail-form", 
        method: "post", 
        action: "api/mail", 
        onSubmit: "event.preventDefault(); sendMail();",
        inputs: {
                0: { id: "dest", name: "dest", type: "text", placeholder: "Destinataire"},
                1: { id: "subject", name: "subject", type: "text", placeholder: "Sujet"},
                2: { id: "mess", name: "mess", type: "textarea", placeholder: "Corps du message"},
                3: { id: "submit", type: "submit", value: "Envoyer" }
        }
    })

    #header-container
        .page-header
            .page-informations
                .page-title
                    h1 üë®‚Äç‚öïÔ∏è Sp√©cialistes
                .page-description
                    p Visualisez les sp√©cialistes disponibles

    .list_specialistes
        table.table
            th Localisation
            th Disponibilit√©
            th Nom
            th Pr√©nom
            th T√©l√©phone
            th Mail
            th.spe-dropdown
                a.spe-title Sp√©cialit√©
                    ul.spe-dropdown-child
                        li
                            a(href='/specialistes/') Tous
                        li
                            a(href='/specialistes/filter?specialite=Dermatologue') Dermatologue
                        li
                            a(href='/specialistes/filter?specialite=Radiologue') Radiologue
                        li
                            a(href='/specialistes/filter?specialite=Psychiatre') Psychiatre
                        li
                            a(href='/specialistes/filter?specialite=Ophtalmologue') Ophtalmologue
            caption Liste des sp√©cialistes
            tbody
                each specialiste in specialistes.data
                    tr
                        td
                            if specialiste.onspot == 1
                                span.material-icons(style='color: var(--primaryColor) !important' alt="Ce sp√©cialiste se trouve dans l'h√¥pital") location_on
                            else
                                span.material-icons(style='color: grey !important' alt="Ce sp√©cialiste ne se trouve pas dans l'h√¥pital") location_on
                        td
                            if specialiste.state == 'pr√©sent'
                                a(href='#')
                                    i.i.fa.fa-check-circle(aria-hidden='true', style='color: green')
                            else if specialiste.state == 'absent'
                                a(href='#')
                                    i.i.fa.fa-check-circle(aria-hidden='true', style='color: orange')
                            else
                                a(href='#')
                                    i.i.fa.fa-check-circle(aria-hidden='true', style='color: red')
                        td #{specialiste.lastname}
                        td #{specialiste.firstname}
                        td #{specialiste.phone}
                        td 
                            a(id="specialiste_mail" onclick="showPopup(" + JSON.stringify(specialiste.mail) + ")") #{specialiste.mail}
                        td #{specialiste.specialite}
